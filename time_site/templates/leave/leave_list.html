{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">
    <h3>–ú–æ–∏ –∑–∞—è–≤–∫–∏</h3>
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>–¢–∏–ø</th>
                <th>–ü–µ—Ä–∏–æ–¥</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
                <th>–î–∞—Ç–∞ –ø–æ–¥–∞—á–∏</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {% for leave in leaves %}
            <tr>
                <td>{{ leave.get_leave_type_display }}</td>
                <td>{{ leave.start_date }} ‚Äì {{ leave.end_date }}</td>
                <td>{{ leave.get_status_display }}</td>
                <td>{{ leave.submitted_at|date:"d.m.Y H:i" }}</td>
                <td>
                  {% if leave.status == '–Ω–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏' %}
                    <a href="{% url 'leave_edit' leave.pk %}" class="btn btn-sm btn-warning" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">‚úèÔ∏è</a>
                    <a href="{% url 'leave_delete' leave.pk %}" class="btn btn-sm btn-danger"
                       onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É –∑–∞—è–≤–∫—É?');">üóëÔ∏è</a>
                  {% else %}
                    <span class="text-muted">‚Äî</span>
                  {% endif %}
                </td>
            </tr>
            {% empty %}
            <tr><td colspan="5">–ó–∞—è–≤–∫–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç</td></tr>
            {% endfor %}
        </tbody>
    </table>
    <div class="back-button-container">
        <a href="javascript:history.back()" class="btn-back">
            ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –æ–±—Ä–∞—Ç–Ω–æ
        </a>
    </div>
</div>
{% endblock %}
